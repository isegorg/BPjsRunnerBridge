# BPjsRunnerBridge

**BPjsRunnerBridge** is a lightweight Java bridge to run [BPjs](https://github.com/bThink-BGU/BPjs) behavioral programs (`.js`) from the command line or from external tools such as [GToolkit](https://gtoolkit.com/).

It allows:
- Running a single `.js` behavioral program.  
- Running multiple `.js` programs together by providing a directory.  
- Default execution of all programs inside the `src/main/examples/` directory.  

This makes it easy to integrate **scenario-based models (e.g. LSC diagrams)** generated by tools like GToolkit with the **BPjs execution engine**.

---

## 📦 Build

Clone the repository and build with Maven:

```bash
mvn clean package
```

This will produce two JARs under target/:

* `original-BPjsRunnerBridge-VERSION.jar` (normal JAR)
* `BPjsRunnerBridge-VERSION.jar` (fat JAR, ready to run)

## ▶️ Usage

Run with Maven (development mode):

```bash
mvn compile exec:java
```

Run with JAR:

```bash
java -jar target/BPjsRunnerBridge-VERSION.jar [file-or-dir]
```

### Examples

* Run default directory (src/main/examples/):

```bash
java -jar target/BPjsRunnerBridge-VERSION.jar
```

* Run a single .js file:

```bash
java -jar target/bpjs-bridge-1.0-SNAPSHOT-jar-with-dependencies.jar examples/advanced_example.js
```

* Run all programs in a directory:

```bash
java -jar target/bpjs-bridge-1.0-SNAPSHOT-jar-with-dependencies.jar generated_bprograms/
```

## 📂 Project Structure

```
BPjsRunnerBridge/
│
├─ src/main/java/es/osoco/bpjs/bridge/
│    └─ BPjsRunnerStdInOutBridge.java
├─ src/main/examples/
│    └─ advanced_example.js
├─ pom.xml
└─ README.md
```	